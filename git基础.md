### Git基础

---

下载地址：https://git-scm.com/download/（Git + Git GUI(客户端))

#### Git基本功能
##### 版本控制：

- 软件版本控制，如 JDK1.8/ JDK17等
- 文件版本控制，用以保存重要的历史记录和恢复数据等

版本控制具有保存和管理文件的功能(不可直接访问)，提供客户端工具进行访问，提供不同版本文件的比对功能。

集中式版本控制：具有一个中央服务器，成员通过本地的客户端下载和上传文件到中央服务器中。对数据或文件的并发访问有两种解决方式：1、加锁(VSS)。2、规定每个成员只能修改这个文件的某个部分(CVS,SVN)。

分布式版本控制（Git)：具有一个中央服务器，并且每个成员本地也会有本地的服务器（作为中央服务器的副本），成员和本地的服务器进行交互，本地的服务器和中央服务器进行交互。

##### 分支功能
当多个成员同时对中央仓库进行提交操作时会让版本信息变得冗杂，并且难以进行统一的版本管理。于是每个成员可以创建一个自己的分支（副本仓库），向自己的分支提交，在开发完成后进行统一的分支合并，这样就只需要进行一次分支冲突的处理。

##### Git文件

-  README.md 提供描述信息 
-  gitignore 保存进行比对时需要忽略的文件类型 

##### Git操作

- commit 将代码从暂存区提交到本地仓库。
- pull 将远程仓库代码同步到本地仓库（会自动merge）。如遇冲突，解决冲突，重复**commit**->**pull**，直到没有冲突。
- fetch 从远程获取最新版本到本地，但不会自动 merge。
- push 将本地仓库代码提交到远程仓库。
- add 将文件从工作区存放到暂存区（比对区）
- branch 创建新的分支
- checkout 更换当前分支

完整命令手册 [http://git-scm.com/docs](http://git-scm.com/docs)

##### Git版本号
使用SHA-1加密的长度为40的字符串。字符串构成是2（目录）+38（文件定位）

任何文件的创建，修改，删除等会创建三个版本号：

- 提交信息版本号：此版本号对应的内容记录提交时的信息（update/initial commit)，还有**parent版本号**（如update会记录update之前的提交信息版本号），**tree版本号**（本次提交的文件状态版本号）
- 文件状态版本号：此版本号对应的内容会指向这个文件的一系列的版本。
- 文件内容版本号：此版本号对应的内容会指向真正的文件。

分支处理的版本变化：**head**文件记录当前选择的分支。如当前选择的分支是main, 则head会指向main文件，main文件中记录了main分支最新提交信息的版本号。

##### Git命令
图形化界面可以提供很多便捷，但一些底层的操作仍然需要用指令完成

**实战经验**
```java
当自己的分支有别人的提交之后，需要rebase一下来更换基底：
首先 git fetch 拉取远程仓库内容
然后 git rebase -- remotes/origin/feature/20230517_bindings（远程所对应的分支）

当merge或者rebase出现冲突后:
首先根据信息定位到具体的文件，然后 vi 具体的文件，手动解决冲突，
查找具体的修改的地方 /=== （查询===关键字所在的光标处）
删除相应的内容 DD (删除光标所在行）
保存后 git rebase --continue

创建新的分支:
首先拉取主分支内容
git fetch origin
然后切换到最近更改的分支上
git checkout remotes/origin/feature/20230517_bindings
然后创建一个新的分支 (-b代表创建新分支）
git checkout -b 20230628_account_delete
然后提交一次
git push origin 20230517_bindings:feature/20230628_account_delete

```




